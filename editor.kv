#:kivy 1.1.1

<TextEditor>
    input_box: input_box
    side_bar: side_bar
    bottom_label: bottom_label	
    ScrollView:
		pos_hint: {'right':1.05,'top':1}
        InputBox:
            id: input_box
            focus: True
    # ScrollView:
    #     wolf_box: wolf_box
    #     id: scroll_view
    #     do_scroll_x: False
    #     do_scroll_y: True
    #     bar_pos_y: 'left'
    #     pos_hint: {'right':1,'top':.75}
    #     size_hint_y: None
    #     size_hint_x:.25   
    #     orientation: "vertical"
    #     GridLayout:
    #         id: wolf_box
    #         cols: 1
    #         spacing: 10
    #         size_hint_x: 1
    #         size_hint_y: None
            
            
            # canvas.before: 
            #     Color: 
            #         rgb: .6, .6, .6 
            #     Rectangle: 
            #         pos: self.pos 
            #         size: self.size 
	SideBar:
        id: side_bar
		size_hint: (.05,1)
	BottomLabel:
        id: bottom_label
		pos_hint: {'right':.05}
		pos_hint: {'top':.55}
	
<InputBox>
	foreground_color: (.8,.8,.8,1)
	background_color: (.2,.2,.2,1)

<SideBar>
	BoxLayout:
		orientation: "vertical"
		Button:
			id: btn_new
			text: "New"

		Button:
			id: btn_save
			text: "Save"
			on_release: app.root.show_save()
		Button:
			id: btn_load
			text: "Load"
			on_release: app.root.show_load()

		Button:
			id: btn_edit
			text: "Edit"

<BottomLabel>
	Label:
		id: doc_id
		text: "doc_id.txt"
		color: .8,.8,.8,1

<SaveDialog>:
    text_input: text_input
    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: "vertical"
        FileChooserListView:
            id: filechooser
            on_selection: text_input.text = self.selection and self.selection[0] or ''

        TextInput:
            id: text_input
            size_hint_y: None
            height: 30
            multiline: False

        BoxLayout:
            size_hint_y: None
            height: 30
            Button:
                text: "Cancel"
                on_release: root.cancel()

            Button:
                text: "Save"
                on_release: root.save(filechooser.path, text_input.text)

<LoadDialog>:
    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: "vertical"
        FileChooserListView:
            id: filechooser

        BoxLayout:
            size_hint_y: None
            height: 30
            Button:
                text: "Cancel"
                on_release: root.cancel()

            Button:
                text: "Load"
                on_release: root.load(filechooser.path, filechooser.selection)